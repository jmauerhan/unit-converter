#!/usr/bin/env php
<?php

error_reporting(E_ALL);
ini_set('display_errors', 1);

require_once realpath(rtrim(__DIR__, '/').'/../vendor/autoload.php');

use UnitConverter\UnitConverter;

$converter = UnitConverter::createBuilder()
    ->addDefaultRegistry()
    ->addSimpleCalculator()
    // ->addBinaryCalculator()
    ->build();

$converter->disableConversionLog();

$iterations = 1000000; # one-million
$values = array_map(function ($minimum) use ($iterations) {
    return rand($minimum, $iterations);
    // return (string) rand($minimum, $iterations);
}, array_fill(0, $iterations, 1));

for ($i = 0; $i < $iterations; $i++) {
    echo "{$i}) {$converter->convert($values[$i])->from('F')->to('C')}".PHP_EOL;
}

